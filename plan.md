# Plan de D√©veloppement Frontend - News Platform

**Objectif :** Cr√©er un frontend React simple et fonctionnel qui interagit avec le backend Spring Boot, en testant chaque √©tape manuellement.

---

## üìã **Analyse Backend Compl√®te**

### üîå **Endpoints Disponibles**

#### **üåê Endpoints Publics (Sans authentification)**
- `GET /api/articles/recent` - 10 derniers articles publi√©s
- `GET /api/articles/published` - Articles publi√©s avec pagination
- `GET /api/articles/{id}` - Article par ID
- `GET /api/categories/roots` - Cat√©gories racines avec hi√©rarchie
- `GET /api/categories` - Toutes cat√©gories avec pagination
- `GET /api/categories/{id}` - Cat√©gorie par ID
- `GET /api/categories/slug/{slug}` - Cat√©gorie par slug

#### **üîê Endpoints Authentification**
- `POST /api/auth/login` - Connexion utilisateur
- `POST /api/auth/logout` - D√©connexion
- `POST /api/auth/refresh` - Rafra√Æchir token

#### **‚úèÔ∏è Endpoints Prot√©g√©s (EDITEUR + ADMIN)**
- `POST /api/articles` - Cr√©er article (brouillon)
- `PUT /api/articles/{id}` - Modifier article
- `POST /api/articles/{id}/publish` - Publier article
- `POST /api/articles/{id}/archive` - Archiver article
- `POST /api/categories` - Cr√©er cat√©gorie
- `PUT /api/categories/{id}` - Modifier cat√©gorie

#### **üëë Endpoints Admin (ADMIN uniquement)**
- `DELETE /api/articles/{id}` - Supprimer article
- `DELETE /api/categories/{id}` - Supprimer cat√©gorie
- `GET /api/users` - Lister utilisateurs
- `POST /api/users` - Cr√©er utilisateur
- `PUT /api/users/{id}` - Modifier utilisateur
- `DELETE /api/users/{id}` - Supprimer utilisateur
- `POST /api/admin/cleanup-tokens` - Nettoyer tokens

### üë• **Utilisateurs de Test Disponibles**
```javascript
// Tous avec mot de passe : 'OusmaneSonko@2029'
const testUsers = {
  admin: { username: 'admin', password: 'OusmaneSonko@2029', role: 'ADMINISTRATEUR' },
  editeur: { username: 'editeur', password: 'OusmaneSonko@2029', role: 'EDITEUR' },
  visiteur: { username: 'visiteur', password: 'OusmaneSonko@2029', role: 'VISITEUR' }
}
```

### üìä **Donn√©es de Test Disponibles**
- **5 cat√©gories** : Actualit√©s, Sport, Technologie, Football (sous Sport), D√©veloppement Web (sous Technologie)
- **5+ articles** : Vari√©s avec statuts PUBLISHED/DRAFT
- **Base H2** en m√©moire avec donn√©es recharg√©es √† chaque red√©marrage

---

## üöÄ **Plan de D√©veloppement √âtape par √âtape**

### **üîß √âtape 1 : Configuration de Base**
**Objectif :** Mettre en place un projet React minimal fonctionnel

#### **1.1 Initialisation Projet**
- [x] Cr√©er dossier `frontend/` 
- [x] Initialiser projet Vite + React
- [x] Installer d√©pendances de base : `axios`, `react-router-dom`
- [x] Configuration proxy Vite vers backend (port 8080)

#### **1.2 Structure de Base**
```
frontend/
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ vite.config.js
‚îú‚îÄ‚îÄ index.html
‚îî‚îÄ‚îÄ src/
    ‚îú‚îÄ‚îÄ main.jsx
    ‚îú‚îÄ‚îÄ App.jsx
    ‚îú‚îÄ‚îÄ index.css
    ‚îú‚îÄ‚îÄ pages/
    ‚îú‚îÄ‚îÄ components/
    ‚îú‚îÄ‚îÄ services/
    ‚îî‚îÄ‚îÄ utils/
```

#### **üß™ Test √âtape 1**
1. D√©marrer backend : `./gradlew bootRun` 
2. D√©marrer frontend : `npm run dev`
3. V√©rifier : Page blanche sans erreurs console
4. V√©rifier : http://localhost:5173 accessible

---

### **üì° √âtape 2 : Test Connexion Backend**
**Objectif :** V√©rifier que frontend peut communiquer avec backend

#### **2.1 Service API de Base**
- [x] Cr√©er `src/services/api.js` avec axios configur√©
- [x] Ajouter fonction `testConnection()` qui appelle `/api/articles/recent`

#### **2.2 Page de Test Simple**
- [x] Cr√©er `src/pages/TestPage.jsx`
- [x] Bouton "Tester Backend" qui appelle API
- [x] Afficher r√©sultat : succ√®s/erreur + donn√©es re√ßues

#### **üß™ Test √âtape 2**
1. Cliquer sur "Tester Backend"
2. V√©rifier : Statut 200 dans console r√©seau
3. V√©rifier : Articles de test s'affichent (ou array vide)
4. V√©rifier : Pas d'erreurs CORS

---

### **üè† √âtape 3 : Page d'Accueil Publique**
**Objectif :** Afficher les articles r√©cents sans authentification

#### **3.1 Service Articles**
- [x] Cr√©er `src/services/articleService.js`
- [x] Fonction `getRecentArticles()` 
- [x] Fonction `getPublishedArticles(page, size)`

#### **3.2 Page d'Accueil**
- [x] Cr√©er `src/pages/HomePage.jsx`
- [x] Hook pour charger articles r√©cents au mount
- [x] Affichage liste d'articles avec : titre, r√©sum√©, date, cat√©gorie
- [x] Gestion √©tat loading/error

#### **3.3 Composant Article Card**
- [x] Cr√©er `src/components/ArticleCard.jsx`
- [x] Props : `article` object
- [x] Affichage : titre, contenu tronqu√©, m√©tadonn√©es

#### **üß™ Test √âtape 3**
1. Aller sur page d'accueil
2. V√©rifier : Articles de test s'affichent correctement
3. V√©rifier : Dates format√©es lisiblement
4. V√©rifier : Pas d'erreurs avec articles manquants

---

### **üß≠ √âtape 4 : Navigation et Cat√©gories**
**Objectif :** Navigation publique par cat√©gories

#### **4.1 Service Cat√©gories**
- [x] Cr√©er `src/services/categoryService.js`
- [x] Fonction `getRootCategories()`
- [x] Fonction `getCategoryById(id)`

#### **4.2 Navigation Header**
- [x] Cr√©er `src/components/Header.jsx`
- [x] Logo + menu navigation
- [x] Liste cat√©gories r√©cup√©r√©e dynamiquement
- [x] Links vers `/category/{slug}`

#### **4.3 Page Cat√©gorie**
- [x] Cr√©er `src/pages/CategoryPage.jsx`
- [x] Route : `/category/:slug`
- [x] Afficher articles de la cat√©gorie
- [x] Breadcrumb : Accueil > Cat√©gorie

#### **üß™ Test √âtape 4**
1. V√©rifier : Menu cat√©gories se charge
2. Cliquer sur une cat√©gorie
3. V√©rifier : Articles filtr√©s s'affichent
4. V√©rifier : Breadcrumb correct

---

### **üîê √âtape 5 : Authentification**
**Objectif :** Syst√®me de login/logout fonctionnel

#### **5.1 Service Auth**
- [x] Cr√©er `src/services/authService.js`
- [x] Fonction `login(username, password)`
- [x] Fonction `logout()`
- [x] Gestion token localStorage
- [x] Intercepteur axios pour token automatique

#### **5.2 Contexte Authentification**
- [x] Cr√©er `src/contexts/AuthContext.jsx`
- [x] √âtat utilisateur global
- [x] Fonctions login/logout partag√©es
- [x] V√©rification token au chargement

#### **5.3 Page Login**
- [x] Cr√©er `src/pages/LoginPage.jsx`
- [x] Formulaire : username/password
- [x] Comptes de test pr√©-remplis (boutons)
- [x] Redirection apr√®s connexion

#### **5.4 Protection Routes**
- [x] Cr√©er `src/components/ProtectedRoute.jsx`
- [x] Redirection vers login si non connect√©

#### **üß™ Test √âtape 5**
1. Tester connexion avec `admin` / `OusmaneSonko@2029`
2. V√©rifier : Token stock√© dans localStorage  
3. V√©rifier : Header affiche "Bonjour admin"
4. V√©rifier : D√©connexion fonctionne
5. Tester les 3 comptes (admin, editeur, visiteur)

---

### **‚úèÔ∏è √âtape 6 : Gestion Articles (√âditeurs)**
**Objectif :** CRUD articles pour √©diteurs/admins

#### **6.1 Extension Service Articles**
- [x] Fonction `createArticle(data)`
- [x] Fonction `updateArticle(id, data)`
- [x] Fonction `publishArticle(id)`
- [x] Fonction `deleteArticle(id)` (admin seulement)

#### **6.2 Page √âditeur**
- [x] Cr√©er `src/pages/EditorPage.jsx`
- [x] Route prot√©g√©e : `/editor`
- [x] Liste des articles de l'utilisateur connect√©
- [x] Boutons : Nouveau, Modifier, Publier, Supprimer

#### **6.3 Formulaire Article**
- [x] Cr√©er `src/components/ArticleForm.jsx`
- [x] Champs : titre, contenu, cat√©gorie
- [x] Validation c√¥t√© client
- [x] Mode cr√©ation/√©dition

#### **6.4 Gestion Permissions**
- [x] V√©rifier r√¥le utilisateur avant affichage
- [x] Masquer fonctionnalit√©s selon r√¥le
- [x] Visiteur ‚Üí lecture seule
- [x] √âditeur ‚Üí CRUD articles
- [x] Admin ‚Üí + suppression

#### **üß™ Test √âtape 6**
1. Connect√© comme `editeur`
2. Cr√©er nouvel article
3. V√©rifier : Article cr√©√© en DRAFT
4. Publier l'article
5. V√©rifier : Article appara√Æt dans liste publique
6. Tester avec `visiteur` : pas d'acc√®s √©diteur

---

### **üëë √âtape 7 : Administration (Admins)**
**Objectif :** Interface admin pour gestion utilisateurs

#### **7.1 Service Utilisateurs**
- [ ] Cr√©er `src/services/userService.js`
- [ ] Fonction `getUsers()`
- [ ] Fonction `createUser(data)`
- [ ] Fonction `updateUser(id, data)`
- [ ] Fonction `deleteUser(id)`

#### **7.2 Page Administration**
- [ ] Cr√©er `src/pages/AdminPage.jsx`
- [ ] Route prot√©g√©e admin : `/admin`
- [ ] Onglets : Utilisateurs, Articles, Statistiques
- [ ] Tableau utilisateurs avec actions

#### **7.3 Formulaire Utilisateur**
- [ ] Cr√©er `src/components/UserForm.jsx`
- [ ] Champs : username, email, password, r√¥le
- [ ] Validation et s√©lection r√¥le

#### **üß™ Test √âtape 7**
1. Connect√© comme `admin`
2. Acc√©der √† `/admin`
3. Voir liste des utilisateurs
4. Cr√©er nouvel utilisateur
5. Tester : nouveaux utilisateurs peuvent se connecter
6. V√©rifier : √©diteur/visiteur n'ont pas acc√®s admin

---

### **üé® √âtape 8 : Interface Utilisateur**
**Objectif :** Am√©liorer UX et design

#### **8.1 Styles CSS**
- [ ] CSS modules ou styled-components
- [ ] Design responsive mobile-first
- [ ] Palette couleurs coh√©rente

#### **8.2 Composants UI**
- [ ] Boutons standardis√©s
- [ ] Modales pour confirmations
- [ ] Notifications toast
- [ ] Loading spinners

#### **8.3 Gestion Erreurs**
- [ ] Page 404
- [ ] Messages d'erreur utilisateur
- [ ] Fallback pour erreurs r√©seau

#### **üß™ Test √âtape 8**
1. Tester sur mobile/tablette
2. V√©rifier : Design coh√©rent
3. Tester : Gestion erreurs r√©seau
4. V√©rifier : Accessibilit√© de base

---

## üéØ **Crit√®res de Validation par √âtape**

### **‚úÖ Crit√®res de Succ√®s G√©n√©raux**
- [ ] Aucune erreur console
- [ ] Communication backend fonctionnelle
- [ ] Authentification JWT op√©rationnelle
- [ ] Permissions par r√¥le respect√©es
- [ ] Interface responsive
- [ ] Gestion erreurs appropri√©e

### **üìù Tests Manuels √† Effectuer**

#### **Test Complet Workflow :**
1. **Visiteur** : Navigation publique, lecture articles
2. **√âditeur** : Connexion, cr√©ation article, publication
3. **Admin** : Gestion utilisateurs, supervision compl√®te

#### **Test S√©curit√© :**
1. V√©rifier : Routes prot√©g√©es redirigent vers login
2. V√©rifier : JWT expir√© g√®re correctement
3. V√©rifier : Permissions r√¥les strictement appliqu√©es

---

## üöÄ **Commandes de D√©veloppement**

```bash
# Backend (terminal 1)
cd backend && ./gradlew bootRun

# Frontend (terminal 2) 
cd frontend && npm run dev

# URLs de test
# Frontend: http://localhost:5173
# Backend: http://localhost:8080
# H2 Console: http://localhost:8080/h2-console
# Swagger: http://localhost:8080/swagger-ui.html
```

---

## üìã **Checklist Validation Finale**

### **üîê Authentification**
- [ ] Login avec 3 types utilisateurs
- [ ] Logout fonctionnel  
- [ ] Token persistence
- [ ] Redirection appropri√©e

### **üì∞ Articles**
- [ ] Liste publique articles
- [ ] D√©tail article
- [ ] Cr√©ation (√©diteur+)
- [ ] Publication (√©diteur+)
- [ ] Suppression (admin)

### **üìÅ Cat√©gories**
- [ ] Navigation par cat√©gorie
- [ ] Hi√©rarchie affich√©e
- [ ] Filtrage articles

### **üë• Utilisateurs**
- [ ] Liste utilisateurs (admin)
- [ ] Cr√©ation utilisateur (admin)
- [ ] Gestion permissions

### **üé® UX/UI**
- [ ] Design coh√©rent
- [ ] Responsive design
- [ ] Gestion erreurs
- [ ] Performance acceptable

---

**üéØ R√©sultat attendu :** Frontend React fonctionnel permettant de tester toutes les fonctionnalit√©s du backend avec une interface utilisateur simple mais compl√®te. 